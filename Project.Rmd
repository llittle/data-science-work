---
title: "Project"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(tidyverse)
```

```{r}
string <-"Nss69/Nss69_1.2/Data/R6912L01.TXT"
imported_data_lvl1 <- read_tsv(file = string, col_names = FALSE)


lvl1 <- imported_data_lvl1 %>%
   separate(col = 'X1', into = c(
   'Centre, Round', 
   'FSU Serial number',
   'Round',
   'Schedule Number',
   'Sample',
   'Sector',
   'State-Region',
   'District',
   'Stratum',
   'Sub-Stratum',
   'Sub-Round',
   'Sub-Sample',
   'FOD Sub-Region',
   'hg/ sb Number',
   'Second Stage Stratum no.',
   'Sample Household no.',
   'Level',
   'Filler',
   'Informants relation to head',
   'Response Code',
   'Survey Code',
   'Reason for substitution',
   'Sp. Characters for OK stamp',
   'Blank',
   'SSC',
   'NSS',
   'NSC',
   'MLT'), 
   sep=c(3,
         8,
         10,
         13,
         14,
         15,
         18,
         20,
         22,
         24,
         25,
         26,
         30,
         31,
         32,
         34,
         36,
         41,
         42,
         43,
         44,
         45,
         47,
         126,
         127,
         130,
         133,
         143))

```

```{r}
string <-"Nss69/Nss69_1.2/Data/R6912L02.TXT"
imported_data_lvl2 <- read_tsv(file = string, col_names = FALSE)


lvl2 <- imported_data_lvl2 %>%
   separate(col = 'X1', into = c('Centre, Round',
                              'FSU Serial number',
                              'Round',
                              'Schedule Number',
                              'Sample',
                              'Sector',
                              'State-Region',
                              'District',
                              'Stratum',
                              'Sub-Stratum',
                              'Sub-Round',
                              'Sub-Sample',
                              'FOD Sub-Region',
                              'hg/ sb Number',
                              'Second Stage Stratum no.',
                              'Sample household no.',
                              'Level',
                              'Filler',
                              'Household size-Male',
                              'Household size-Female',
                              'Household size- Total',
                              'Gender of the head',
                              'Age of head',
                              'Highest level of education among male',
                              'Highest level of education among female',
                              'Principal industry(NIC-2008)',
                              'Principal occupation(NCO-2004)',
                              'Household type',
                              'Religion' ,
                              'Social group',
                              'Land possessed',
                              'Tenurial status of dwelling',
                              'Area type where dwelling unit located',
                              'Maximum distance to the place of work of the earner member',
                              'Special characters for OK stamp',
                              'Blank',
                              'SSC',
                              'NSS',
                              'NSC',
                              'MLT'),
                        sep = c(3,
                              8,
                              10,
                              13,
                              14,
                              15,
                              18,
                              20,
                              22,
                              24,
                              25,
                              26,
                              30,
                              31,
                              32,
                              34,
                              36,
                              41,
                              43,
                              45,
                              47,
                              48,
                              49,
                              51,
                              53,
                              58,
                              61,
                              62,
                              63,
                              64,
                              66,
                              67,
                              68,
                              69,
                              71,
                              126,
                              127,
                              130,
                              133,
                              143))
```
```{r}
read_csv('A-1_NO_OF_VILLAGES_TOWNS_HOUSEHOLDS_POPULATION_AND_AREA.csv', col_names = TRUE,
         skip = 4)
```

## Todo
- import the 3rd dataframe
- make a unique column id that is bytes 1-34
- pivot wider to combine everything

- What are the columns in the data file? 

The first is a bunch of data codes strung together, then the last three might
be multipliers but we don't know what those are yet...

- what is a multiplier

 - what does USF mean?
 
 This is the the organization - IV unit is the smaller unit.
 
 - why does it say record length 143 when there are many more lines than that? 
 - All of the 'Levels' correlate to each other - do we need to match them based on the line or based on the codes? 
 - What is the 'MLT' text document?
 
 
 ## Questions from Elliot
 
 'results' are 
 - land  Schedule 1.2 item 13 block 3
 - spending spending amount (item 22, block 3)
 
 'indicators' are
 - population density
       - we found a separate dataset for population density of rural vs urban 
      areas for each district
      - The rural vs urban distinction appears on item 5 block 1 of the schedule
      - we will compile those two and assume that the definition of urban and rural
      is close enough
 - income source (item 10, block 3)
 
 - we want to filter to only look at certain population densities to 10k-16k people / km^2